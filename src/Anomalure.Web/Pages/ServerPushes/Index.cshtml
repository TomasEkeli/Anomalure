@page
@model ServerPushesModel

<h1>Server Pushes</h1>

<h2>HTMX SSE Events</h2>
<div id="htmx-sse-events">

</div>
<hr/>

<h2>JavaScript EventSource Server-Sent Events</h2>
<div id="events"></div>

<script>
    const eventSource = new EventSource('/serverpushes/events');
    eventSource.onmessage = function(event) {
        const eventsDiv = document.getElementById('events');
        const newEvent = document.createElement('div');
        newEvent.textContent = event.data;
        eventsDiv.prepend(newEvent); // Append new events to the top
    };
</script>
